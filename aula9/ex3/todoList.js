let users = [
  {
    id: 4839,
    uid: "f6aff89c-e260-41ef-b444-7b39c050f4f8",
    password: "RUlbTP3Bn6",
    first_name: "Mike",
    last_name: "Rippin",
    username: "mike.rippin",
    email: "mike.rippin@email.com",
    avatar: "https://robohash.org/accusantiumrecusandaebeatae.png?size=300x300&set=set1",
    gender: "Polygender",
    phone_number: "+968 (895) 672-1692 x3990",
    social_insurance_number: "280366048",
    date_of_birth: "1968-04-13",
    employment: {
      title: "Legal Manager",
      key_skill: "Problem solving",
    },
    address: {
      city: "New Mary",
      street_name: "Thomas Expressway",
      street_address: "3958 Ryan Pine",
      zip_code: "37051-7055",
      state: "Kansas",
      country: "United States",
      coordinates: {
        lat: -44.11016465972516,
        lng: -85.9323174462736,
      },
    },
    credit_card: {
      cc_number: "5481-2564-6953-6879",
    },
    subscription: {
      plan: "Bronze",
      status: "Idle",
      payment_method: "Apple Pay",
      term: "Payment in advance",
    },
    tasks: [
      {
        name: "Create top banner",
        deadline: new Date("12/10/2022"),
        description: "Create top banner according to design. Include mobile",
      },
      {
        name: "Create footer",
        deadline: new Date("12/31/2022"),
        description: "Create footer according to design. Include mobile",
      },
    ],
  },
  {
    id: 6028,
    uid: "ccc742a9-7fdd-4b9f-a2ff-cb6dad0a2cf5",
    password: "MzjJGbOkN1",
    first_name: "Tyron",
    last_name: "Willms",
    username: "tyron.willms",
    email: "tyron.willms@email.com",
    avatar: "https://robohash.org/undemolestiaeesse.png?size=300x300&set=set1",
    gender: "Male",
    phone_number: "+678 738-346-8025 x554",
    social_insurance_number: "519529630",
    date_of_birth: "1995-05-12",
    employment: {
      title: "Central Engineer",
      key_skill: "Problem solving",
    },
    address: {
      city: "North Lucianostad",
      street_name: "Murphy Mount",
      street_address: "733 Morar Parkway",
      zip_code: "04215",
      state: "Wyoming",
      country: "United States",
      coordinates: {
        lat: 53.76425399306825,
        lng: 133.64452330346802,
      },
    },
    credit_card: {
      cc_number: "4373536188920",
    },
    subscription: {
      plan: "Standard",
      status: "Pending",
      payment_method: "Cheque",
      term: "Full subscription",
    },
    tasks: [],
  },
  {
    id: 3663,
    uid: "8f867b47-ac85-4856-a92b-be72d43d3121",
    password: "VIt6XLvRuP",
    first_name: "Delma",
    last_name: "Effertz",
    username: "delma.effertz",
    email: "delma.effertz@email.com",
    avatar: "https://robohash.org/molestiaeoptiorerum.png?size=300x300&set=set1",
    gender: "Bigender",
    phone_number: "+672 (633) 158-4000 x62688",
    social_insurance_number: "707564985",
    date_of_birth: "1965-03-29",
    employment: {
      title: "Human Mining Technician",
      key_skill: "Leadership",
    },
    address: {
      city: "South Ralph",
      street_name: "Lyman Lodge",
      street_address: "7423 Grimes Plaza",
      zip_code: "67598",
      state: "Utah",
      country: "United States",
      coordinates: {
        lat: -1.4433291423956547,
        lng: -11.028647089289706,
      },
    },
    credit_card: {
      cc_number: "5389-6640-5738-2429",
    },
    subscription: {
      plan: "Standard",
      status: "Blocked",
      payment_method: "Paypal",
      term: "Annual",
    },
    tasks: [],
  },
  {
    id: 9547,
    uid: "16e11c75-0900-486e-beaa-3dba373a3261",
    password: "gIFTR7D2Yj",
    first_name: "Fe",
    last_name: "Marquardt",
    username: "fe.marquardt",
    email: "fe.marquardt@email.com",
    avatar: "https://robohash.org/aperiamvelquae.png?size=300x300&set=set1",
    gender: "Non-binary",
    phone_number: "+298 725-651-9517 x75995",
    social_insurance_number: "660464397",
    date_of_birth: "1974-10-19",
    employment: {
      title: "Design Agent",
      key_skill: "Work under pressure",
    },
    address: {
      city: "Goldnerborough",
      street_name: "Brian Spring",
      street_address: "583 Larkin Branch",
      zip_code: "70801-3900",
      state: "Massachusetts",
      country: "United States",
      coordinates: {
        lat: 83.32296392552979,
        lng: -169.92995348309458,
      },
    },
    credit_card: {
      cc_number: "5150-2778-8809-6022",
    },
    subscription: {
      plan: "Basic",
      status: "Active",
      payment_method: "Credit card",
      term: "Full subscription",
    },
    tasks: [],
  },
  {
    id: 1098,
    uid: "8310065d-7465-4fcc-899b-028684d8cee7",
    password: "iEVMD5Gbo4",
    first_name: "Ellsworth",
    last_name: "Lueilwitz",
    username: "ellsworth.lueilwitz",
    email: "ellsworth.lueilwitz@email.com",
    avatar: "https://robohash.org/utetdoloremque.png?size=300x300&set=set1",
    gender: "Genderfluid",
    phone_number: "+967 1-578-535-1458",
    social_insurance_number: "348344987",
    date_of_birth: "1960-08-25",
    employment: {
      title: "Legal Developer",
      key_skill: "Self-motivated",
    },
    address: {
      city: "West Sibylburgh",
      street_name: "Dallas Fields",
      street_address: "1228 Luettgen Track",
      zip_code: "17721",
      state: "South Dakota",
      country: "United States",
      coordinates: {
        lat: -38.11371220149862,
        lng: 20.08226566387748,
      },
    },
    credit_card: {
      cc_number: "4924-5382-4659-3374",
    },
    subscription: {
      plan: "Standard",
      status: "Pending",
      payment_method: "Money transfer",
      term: "Payment in advance",
    },
    tasks: [],
  },
];

users.forEach((user) => {
  let element = document.createElement("option");
  element.innerHTML = `${user.first_name} ${user.last_name}`;
  element.value = user.id;
  document.querySelector(".select-dev-js").appendChild(element);
});

function selectProfile() {
  let selectedProfile = +document.querySelector(".select-dev-js").value;

  let profile = users.find((user) => user.id === selectedProfile);

  document.querySelector(".profile-js").innerHTML = `
        <div class="name">Name:<span>${profile.first_name} ${profile.last_name}</span></div>
        <div class="role">Role: <span>${profile.employment.title}</span></div>
        <div class="email"> Email: <span>${profile.email}</span></div>
        <div class="gender">Gender: <span>${profile.gender}</span></div>
        <div class="address">Address: <span>${profile.address.city}</span></div>
        <br />
        <button onclick="addNewTask(${profile.id})">Add New Task</button>
    `;
  document.querySelector(".tasks-js").innerHTML = "";
  profile.tasks.forEach((task) => {
    let taskElement = document.createElement("div");
    taskElement.innerHTML = displayTask(task);

    document.querySelector(".tasks-js").appendChild(taskElement);
  });
}

function addNewTask(userId) {
  let userTask = users.find((user) => user.id === userId);
  userTask.tasks.push({
    name: "Homepage",
    deadline: new Date("02/10/2023"),
    description: "Create homepage design",
  });

  document.querySelector(".tasks-js").innerHTML = "";
  userTask.tasks.forEach((task) => {
    let taskElement = document.createElement("div");
    taskElement.innerHTML = displayTask(task);

    document.querySelector(".tasks-js").appendChild(taskElement);
  });
}

function displayTask(task) {
  return `
        <br />
        <div class="task-name">Name:<span>${task.name}</span></div>
        <div class="task-deadline">Deadline: <span>${task.deadline}</span></div>
        <div class="task-description"> Description: <span>${task.description}</span></div>
        <br />
        <hr>`;
}
